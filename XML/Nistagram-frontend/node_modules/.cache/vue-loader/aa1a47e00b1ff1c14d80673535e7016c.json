{"remainingRequest":"C:\\Users\\KORISNIK\\go\\src\\github.com\\xml\\XML-and-BSEP\\XML\\Nistagram-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\KORISNIK\\go\\src\\github.com\\xml\\XML-and-BSEP\\XML\\Nistagram-frontend\\src\\views\\ChangePasswordByToken.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\KORISNIK\\go\\src\\github.com\\xml\\XML-and-BSEP\\XML\\Nistagram-frontend\\src\\views\\ChangePasswordByToken.vue","mtime":1620645782036},{"path":"C:\\Users\\KORISNIK\\go\\src\\github.com\\xml\\XML-and-BSEP\\XML\\Nistagram-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1620645761027},{"path":"C:\\Users\\KORISNIK\\go\\src\\github.com\\xml\\XML-and-BSEP\\XML\\Nistagram-frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1620645778310},{"path":"C:\\Users\\KORISNIK\\go\\src\\github.com\\xml\\XML-and-BSEP\\XML\\Nistagram-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1620645760626},{"path":"C:\\Users\\KORISNIK\\go\\src\\github.com\\xml\\XML-and-BSEP\\XML\\Nistagram-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1620645761027},{"path":"C:\\Users\\KORISNIK\\go\\src\\github.com\\xml\\XML-and-BSEP\\XML\\Nistagram-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1620645778857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJDaGFuZ2VQYXNzd29yZEJ5VG9rZW4iLA0KICBkYXRhOiAoKSA9PiAoew0KICAgIGNvbmZpcm1hdGlvblRva2VuOiIiLA0KICAgIHNob3dQYXNzd29yZDpmYWxzZSwNCiAgICBzaG93Q29uZmlybVBhc3N3b3JkOmZhbHNlLA0KICAgIHBhc3N3b3JkOiIiLA0KICAgIGNvbmZpcm1QYXNzd29yZDoiIiwNCiAgICB1c2VyRW1haWw6IiIsDQogICAgc2hvd0ZpZWxkczpmYWxzZSwNCiAgICBzaG93SGVhZGVyOmZhbHNlDQogIH0pLA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuaW5pdCgpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaW5pdCgpIHsNCiAgICAgIHZhciBocmVmUGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOw0KICAgICAgdmFyIGhyZWZQYXRocyA9IFtdOw0KICAgICAgaHJlZlBhdGhzPSAgaHJlZlBhdGguc3BsaXQoJy8nKTsNCiAgICAgIHRoaXMuY29uZmlybWF0aW9uVG9rZW4gPSBocmVmUGF0aHNbNF07DQogICAgICB0aGlzLiRodHRwDQogICAgICAgIC5wb3N0KCJodHRwczovL2xvY2FsaG9zdDo4MDgwL3VzZXJzL2ZpbmRVc2VyV2l0aFRva2VuIiwgew0KICAgICAgICAgICAgdG9rZW46IHRoaXMuY29uZmlybWF0aW9uVG9rZW4NCiAgICAgICAgfSkNCiAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIHRoaXMudXNlckVtYWlsID0gcmVzLmRhdGEudXNlckVtYWlsOw0KICAgICAgICAgIHRoaXMuc2hvd0ZpZWxkcyA9IHRydWU7DQogICAgICAgICAgdGhpcy5zaG93SGVhZGVyID0gZmFsc2U7DQogICAgICAgICAgYWxlcnQoIlN1Y2Nlc3NmdWxseSBmb3VuZGVkIHVzZXIhIikNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgICAgIHRoaXMuc2hvd0hlYWRlciA9IHRydWU7DQogICAgICAgICAgdGhpcy5zaG93RmllbGRzID0gZmFsc2U7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgc2F2ZU5ld1Bhc3N3b3JkKCkgew0KICAgICAgICBpZiAoIXRoaXMudmFsaWRQYXNzd29yZCgpIHx8ICF0aGlzLnZhbGlkQ29uZmlybVBhc3N3b3JkKCkgfHwgIXRoaXMudmFsaWRQYXNzd29yZHMoKSkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHRoaXMuJGh0dHANCiAgICAgICAgLnB1dCgiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MC91c2Vycy9jaGFuZ2VQYXNzd29yZCIsIHsNCiAgICAgICAgICAgIGVtYWlsT2ZVc2VyOiB0aGlzLnVzZXJFbWFpbCwNCiAgICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLA0KICAgICAgICAgICAgY29uZmlybWVkUGFzc3dvcmQ6IHRoaXMuY29uZmlybVBhc3N3b3JkDQogICAgICAgIH0pDQogICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICAgIGFsZXJ0KCJZb3UgYXJlIHN1Y2Nlc3NmdWxseSBjaGFuZ2UgcGFzc3dvcmQgb24geW91ciBhY2NvdW50ISBZb3UgY2FuIGxvZyBpbiBvbiBzeXN0ZW0hIik7DQogICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MS9sb2dJbiI7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgICAgICBhbGVydCgiUGFzc3dvcmQgZG9lc24ndCBjaGFuZ2VkISBQbGVhc2UsIGNvbnRhY3Qgc3lzdGVtIGFkbWluISIpOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIHJlZGlyZWN0VG9Mb2dJbigpIHsNCiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gImh0dHBzOi8vbG9jYWxob3N0OjgwODEvbG9nSW4iOw0KICAgIH0sDQogICAgdmFsaWRQYXNzd29yZCgpIHsNCiAgICAgIGlmICh0aGlzLnBhc3N3b3JkLmxlbmd0aCA8IDEwKSB7DQogICAgICAgICAgICBhbGVydCgiWW91ciBwYXNzd29yZCBzaG91bGQgY29udGFpbiBhdCBsZWFzdCAxMCBjaGFyYWN0ZXIhIik7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9IGVsc2UgaWYgKHRoaXMucGFzc3dvcmQubGVuZ3RoID4gMzApIHsNCiAgICAgICAgICAgIGFsZXJ0KCJZb3VyIHBhc3N3b3JkIHNob3VsZG4ndCBjb250YWluIG1vcmUgdGhhbiAzMCBjaGFyYWN0ZXJzISIpOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfSBlbHNlIGlmKCF0aGlzLnBhc3N3b3JkLm1hdGNoKC9bYS16XS9nKSkgew0KICAgICAgICAgICAgYWxlcnQoIllvdXIgcGFzc3dvcmQgc2hvdWxkIGNvbnRhaW4gYXQgbGVhc3Qgb25lIHNtYWxsIGxldHRlci4iKTsNCiAgICAgICAgICAgIHRoaXMuY29uZmlybVBhc3N3b3JkPScnOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfSBlbHNlIGlmKCF0aGlzLnBhc3N3b3JkLm1hdGNoKC9bQS1aXS9nKSkgew0KICAgICAgICAgICAgYWxlcnQoIllvdXIgcGFzc3dvcmQgc2hvdWxkIGNvbnRhaW4gYXQgbGVhc3Qgb25lIGJpZyBsZXR0ZXIuIik7DQogICAgICAgICAgICB0aGlzLmNvbmZpcm1QYXNzd29yZD0nJzsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0gZWxzZSBpZighdGhpcy5wYXNzd29yZC5tYXRjaCgvWzAtOV0vZykpIHsNCiAgICAgICAgICAgIGFsZXJ0KCJZb3VyIHBhc3N3b3JkIHNob3VsZCBjb250YWluIGF0IGxlYXN0IG9uZSBudW1iZXIuIik7DQogICAgICAgICAgICB0aGlzLmNvbmZpcm1QYXNzd29yZD0nJzsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0gZWxzZSBpZighdGhpcy5wYXNzd29yZC5tYXRjaCgvWyFAIyQlXiYqLiw6JyJdL2cpKSB7IA0KICAgICAgICAgICAgYWxlcnQoIllvdXIgcGFzc3dvcmQgc2hvdWxkIGNvbnRhaW4gYXQgbGVhc3Qgb25lIHNwZWNpYWwgY2hhcmFjdGVyLiIpOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfSANCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0sDQogICAgdmFsaWRDb25maXJtUGFzc3dvcmQoKSB7DQogICAgICBpZiAodGhpcy5jb25maXJtUGFzc3dvcmQubGVuZ3RoIDwgMTApIHsNCiAgICAgICAgYWxlcnQoIllvdXIgcGFzc3dvcmQgc2hvdWxkIGNvbnRhaW4gYXQgbGVhc3QgMTAgY2hhcmFjdGVyISIpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9IGVsc2UgaWYgKHRoaXMuY29uZmlybVBhc3N3b3JkLmxlbmd0aCA+IDMwKSB7DQogICAgICAgIGFsZXJ0KCJZb3VyIHBhc3N3b3JkIHNob3VsZG4ndCBjb250YWluIG1vcmUgdGhhbiAzMCBjaGFyYWN0ZXJzISIpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9IGVsc2UgaWYoIXRoaXMuY29uZmlybVBhc3N3b3JkLm1hdGNoKC9bYS16XS9nKSkgew0KICAgICAgICAgIGFsZXJ0KCJZb3VyIGNvbmZpcm0gcGFzc3dvcmQgc2hvdWxkIGNvbnRhaW4gYXQgbGVhc3Qgb25lIHNtYWxsIGxldHRlci4iKTsNCiAgICAgICAgICB0aGlzLmNvbmZpcm1QYXNzd29yZD0nJzsNCiAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9IGVsc2UgaWYoIXRoaXMuY29uZmlybVBhc3N3b3JkLm1hdGNoKC9bQS1aXS9nKSkgew0KICAgICAgICAgIGFsZXJ0KCJZb3VyIGNvbmZpcm0gcGFzc3dvcmQgc2hvdWxkIGNvbnRhaW4gYXQgbGVhc3Qgb25lIGJpZyBsZXR0ZXIuIik7DQogICAgICAgICAgdGhpcy5jb25maXJtUGFzc3dvcmQ9Jyc7DQogICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfSBlbHNlIGlmKCF0aGlzLmNvbmZpcm1QYXNzd29yZC5tYXRjaCgvWzAtOV0vZykpIHsNCiAgICAgICAgICBhbGVydCgiWW91ciBjb25maXJtIHBhc3N3b3JkIHNob3VsZCBjb250YWluIGF0IGxlYXN0IG9uZSBudW1iZXIuIik7DQogICAgICAgICAgdGhpcy5jb25maXJtUGFzc3dvcmQ9Jyc7DQogICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfSBlbHNlIGlmKCF0aGlzLmNvbmZpcm1QYXNzd29yZC5tYXRjaCgvWyFAIyQlXiYqLiw6JyJdL2cpKSB7IA0KICAgICAgICAgIGFsZXJ0KCJZb3VyIGNvbmZpcm0gcGFzc3dvcmQgc2hvdWxkIGNvbnRhaW4gYXQgbGVhc3Qgb25lIHNwZWNpYWwgY2hhcmFjdGVyLiIpOw0KICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0sDQogICAgdmFsaWRQYXNzd29yZHMoKSB7DQogICAgICBpZiAodGhpcy5jb25maXJtUGFzc3dvcmQgIT09IHRoaXMucGFzc3dvcmQpIHsNCiAgICAgICAgYWxlcnQoIlBhc3N3b3JkcyBkb24ndCBtYXRjaCAhISEiKTsNCiAgICAgICAgdGhpcy5jb25maXJtUGFzc3dvcmQgPScnOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9IA0KICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KICB9LA0KfTsNCg=="},{"version":3,"sources":["ChangePasswordByToken.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ChangePasswordByToken.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <br />\r\n    <v-container fluid class=\"container\">\r\n      <h1 v-show=\"showHeader\" class=\"center\">BAD TOKEN</h1>\r\n\r\n      <v-row rows=\"1\">\r\n        <v-col cols=\"5\" />\r\n        <v-col cols=\"3\">\r\n           <v-text-field\r\n            :type=\"showPassword ? 'text' : 'password'\"\r\n            label=\"Password\"\r\n            v-model=\"password\" \r\n            v-show=\"showFields\"\r\n            prepend-icon=\"mdi-lock\"\r\n            :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\r\n            @click:append=\"showPassword = !showPassword\"\r\n            />\r\n        </v-col>\r\n      </v-row>\r\n\r\n      <v-row rows=\"1\">\r\n        <v-col cols=\"5\" />\r\n        <v-col cols=\"3\">\r\n            <v-text-field\r\n            :type=\"showConfirmPassword ? 'text' : 'password'\"\r\n            label=\"Confirmation Password\"\r\n            v-show=\"showFields\"\r\n            v-model=\"confirmPassword\" \r\n            prepend-icon=\"mdi-lock\"\r\n            :append-icon=\"showConfirmPassword ? 'mdi-eye' : 'mdi-eye-off'\"\r\n            @click:append=\"showConfirmPassword = !showConfirmPassword\"\r\n            />\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n\r\n    <div class=\"center\">\r\n      <v-btn  v-show=\"showFields\" v-on:click=\"saveNewPassword\" color=\"primary\" large elevation=\"20\"\r\n        >Save password</v-btn\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ChangePasswordByToken\",\r\n  data: () => ({\r\n    confirmationToken:\"\",\r\n    showPassword:false,\r\n    showConfirmPassword:false,\r\n    password:\"\",\r\n    confirmPassword:\"\",\r\n    userEmail:\"\",\r\n    showFields:false,\r\n    showHeader:false\r\n  }),\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      var hrefPath = window.location.href;\r\n      var hrefPaths = [];\r\n      hrefPaths=  hrefPath.split('/');\r\n      this.confirmationToken = hrefPaths[4];\r\n      this.$http\r\n        .post(\"https://localhost:8080/users/findUserWithToken\", {\r\n            token: this.confirmationToken\r\n        })\r\n        .then((res) => {\r\n          this.userEmail = res.data.userEmail;\r\n          this.showFields = true;\r\n          this.showHeader = false;\r\n          alert(\"Successfully founded user!\")\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          this.showHeader = true;\r\n          this.showFields = false;\r\n        });\r\n    },\r\n    saveNewPassword() {\r\n        if (!this.validPassword() || !this.validConfirmPassword() || !this.validPasswords()) {\r\n            return;\r\n        }\r\n        this.$http\r\n        .put(\"https://localhost:8080/users/changePassword\", {\r\n            emailOfUser: this.userEmail,\r\n            password: this.password,\r\n            confirmedPassword: this.confirmPassword\r\n        })\r\n        .then((res) => {\r\n          console.log(res);\r\n          alert(\"You are successfully change password on your account! You can log in on system!\");\r\n          window.location.href = \"https://localhost:8081/logIn\";\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          alert(\"Password doesn't changed! Please, contact system admin!\");\r\n        });\r\n    },\r\n    redirectToLogIn() {\r\n      window.location.href = \"https://localhost:8081/logIn\";\r\n    },\r\n    validPassword() {\r\n      if (this.password.length < 10) {\r\n            alert(\"Your password should contain at least 10 character!\");\r\n            return false;\r\n      } else if (this.password.length > 30) {\r\n            alert(\"Your password shouldn't contain more than 30 characters!\");\r\n            return false;\r\n      } else if(!this.password.match(/[a-z]/g)) {\r\n            alert(\"Your password should contain at least one small letter.\");\r\n            this.confirmPassword='';\r\n            return false;\r\n      } else if(!this.password.match(/[A-Z]/g)) {\r\n            alert(\"Your password should contain at least one big letter.\");\r\n            this.confirmPassword='';\r\n            return false;\r\n      } else if(!this.password.match(/[0-9]/g)) {\r\n            alert(\"Your password should contain at least one number.\");\r\n            this.confirmPassword='';\r\n            return false;\r\n      } else if(!this.password.match(/[!@#$%^&*.,:'\"]/g)) { \r\n            alert(\"Your password should contain at least one special character.\");\r\n            return false;\r\n      } \r\n      return true;\r\n    },\r\n    validConfirmPassword() {\r\n      if (this.confirmPassword.length < 10) {\r\n        alert(\"Your password should contain at least 10 character!\");\r\n        return false;\r\n      } else if (this.confirmPassword.length > 30) {\r\n        alert(\"Your password shouldn't contain more than 30 characters!\");\r\n        return false;\r\n      } else if(!this.confirmPassword.match(/[a-z]/g)) {\r\n          alert(\"Your confirm password should contain at least one small letter.\");\r\n          this.confirmPassword='';\r\n          return false;\r\n      } else if(!this.confirmPassword.match(/[A-Z]/g)) {\r\n          alert(\"Your confirm password should contain at least one big letter.\");\r\n          this.confirmPassword='';\r\n          return false;\r\n      } else if(!this.confirmPassword.match(/[0-9]/g)) {\r\n          alert(\"Your confirm password should contain at least one number.\");\r\n          this.confirmPassword='';\r\n          return false;\r\n      } else if(!this.confirmPassword.match(/[!@#$%^&*.,:'\"]/g)) { \r\n          alert(\"Your confirm password should contain at least one special character.\");\r\n          return false;\r\n      }\r\n      return true;\r\n    },\r\n    validPasswords() {\r\n      if (this.confirmPassword !== this.password) {\r\n        alert(\"Passwords don't match !!!\");\r\n        this.confirmPassword ='';\r\n        return false;\r\n      } \r\n      return true;\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.helloMessage {\r\n  font-weight: bolder;\r\n  font-size: 20px;\r\n  height: 50px;\r\n}\r\n\r\n.center {\r\n  padding: 10px;\r\n  text-align: center;\r\n}\r\n\r\n#certificateCard {\r\n  margin-top: 5%;\r\n  width: 70%;\r\n  height: 760px;\r\n  overflow-y: scroll;\r\n}\r\n</style>"]}]}