{"remainingRequest":"C:\\Users\\Asus\\Desktop\\XML i veb servisi\\XML-and-BSEP\\BSEP\\bsep\\src\\main\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Asus\\Desktop\\XML i veb servisi\\XML-and-BSEP\\BSEP\\bsep\\src\\main\\frontend\\src\\views\\ChangePasswordByToken.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Asus\\Desktop\\XML i veb servisi\\XML-and-BSEP\\BSEP\\bsep\\src\\main\\frontend\\src\\views\\ChangePasswordByToken.vue","mtime":1618686932298},{"path":"C:\\Users\\Asus\\Desktop\\XML i veb servisi\\XML-and-BSEP\\BSEP\\bsep\\src\\main\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1618336320238},{"path":"C:\\Users\\Asus\\Desktop\\XML i veb servisi\\XML-and-BSEP\\BSEP\\bsep\\src\\main\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1618336313969},{"path":"C:\\Users\\Asus\\Desktop\\XML i veb servisi\\XML-and-BSEP\\BSEP\\bsep\\src\\main\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1618336320238},{"path":"C:\\Users\\Asus\\Desktop\\XML i veb servisi\\XML-and-BSEP\\BSEP\\bsep\\src\\main\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1618336503862}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJDaGFuZ2VQYXNzd29yZEJ5VG9rZW4iLA0KICBkYXRhOiAoKSA9PiAoew0KICAgIGNvbmZpcm1hdGlvblRva2VuOiIiLA0KICAgIHNob3dQYXNzd29yZDpmYWxzZSwNCiAgICBzaG93Q29uZmlybVBhc3N3b3JkOmZhbHNlLA0KICAgIHBhc3N3b3JkOiIiLA0KICAgIGNvbmZpcm1QYXNzd29yZDoiIiwNCiAgICB1c2VyRW1haWw6IiIsDQogICAgc2hvd0ZpZWxkczpmYWxzZSwNCiAgICBzaG93SGVhZGVyOmZhbHNlDQogIH0pLA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuaW5pdCgpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaW5pdCgpIHsNCiAgICAgIHZhciBocmVmUGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOw0KICAgICAgdmFyIGhyZWZQYXRocyA9IFtdOw0KICAgICAgaHJlZlBhdGhzPSAgaHJlZlBhdGguc3BsaXQoJy8nKTsNCiAgICAgIHRoaXMuY29uZmlybWF0aW9uVG9rZW4gPSBocmVmUGF0aHNbNF07DQogICAgICB0aGlzLiRodHRwDQogICAgICAgIC5wb3N0KCJodHRwczovL2xvY2FsaG9zdDo4MDgwL3VzZXJzL2ZpbmRVc2VyV2l0aFRva2VuIiwgew0KICAgICAgICAgICAgdG9rZW46IHRoaXMuY29uZmlybWF0aW9uVG9rZW4NCiAgICAgICAgfSkNCiAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIHRoaXMudXNlckVtYWlsID0gcmVzLmRhdGEudXNlckVtYWlsOw0KICAgICAgICAgIHRoaXMuc2hvd0ZpZWxkcyA9IHRydWU7DQogICAgICAgICAgdGhpcy5zaG93SGVhZGVyID0gZmFsc2U7DQogICAgICAgICAgYWxlcnQoIlN1Y2Nlc3NmdWxseSBmb3VuZGVkIHVzZXIhIikNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgICAgIHRoaXMuc2hvd0hlYWRlciA9IHRydWU7DQogICAgICAgICAgdGhpcy5zaG93RmllbGRzID0gZmFsc2U7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgc2F2ZU5ld1Bhc3N3b3JkKCkgew0KICAgICAgICBpZiAoIXRoaXMudmFsaWRQYXNzd29yZCgpIHx8ICF0aGlzLnZhbGlkQ29uZmlybVBhc3N3b3JkKCkgfHwgIXRoaXMudmFsaWRQYXNzd29yZHMoKSkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGFsZXJ0KHRoaXMucGFzc3dvcmQrIiAiK3RoaXMuY29uZmlybVBhc3N3b3JkKQ0KICAgICAgICB0aGlzLiRodHRwDQogICAgICAgIC5wdXQoImh0dHBzOi8vbG9jYWxob3N0OjgwODAvdXNlcnMvY2hhbmdlUGFzc3dvcmQiLCB7DQogICAgICAgICAgICBlbWFpbE9mVXNlcjogdGhpcy51c2VyRW1haWwsDQogICAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwNCiAgICAgICAgICAgIGNvbmZpcm1lZFBhc3N3b3JkOiB0aGlzLmNvbmZpcm1QYXNzd29yZA0KICAgICAgICB9KQ0KICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgICAgICBhbGVydCgiWW91IGFyZSBzdWNjZXNzZnVsbHkgY2hhbmdlIHBhc3N3b3JkIG9uIHlvdXIgYWNjb3VudCEgWW91IGNhbiBsb2cgaW4gb24gc3lzdGVtISIpOw0KICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gImh0dHBzOi8vbG9jYWxob3N0OjgwODEvbG9nSW4iOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKGVycikgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7DQogICAgICAgICAgYWxlcnQoIlBhc3N3b3JkIGRvZXNuJ3QgY2hhbmdlZCEgUGxlYXNlLCBjb250YWN0IHN5c3RlbSBhZG1pbiEiKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICByZWRpcmVjdFRvTG9nSW4oKSB7DQogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICJodHRwczovL2xvY2FsaG9zdDo4MDgxL2xvZ0luIjsNCiAgICB9LA0KICAgIHZhbGlkUGFzc3dvcmQoKSB7DQogICAgICBpZiAodGhpcy5wYXNzd29yZC5sZW5ndGggPCAxMCkgew0KICAgICAgICAgICAgYWxlcnQoIllvdXIgcGFzc3dvcmQgc2hvdWxkIGNvbnRhaW4gYXQgbGVhc3QgMTAgY2hhcmFjdGVyISIpOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfSBlbHNlIGlmICh0aGlzLnBhc3N3b3JkLmxlbmd0aCA+IDMwKSB7DQogICAgICAgICAgICBhbGVydCgiWW91ciBwYXNzd29yZCBzaG91bGRuJ3QgY29udGFpbiBtb3JlIHRoYW4gMzAgY2hhcmFjdGVycyEiKTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0gZWxzZSBpZighdGhpcy5wYXNzd29yZC5tYXRjaCgvW2Etel0vZykpIHsNCiAgICAgICAgICAgIGFsZXJ0KCJZb3VyIHBhc3N3b3JkIHNob3VsZCBjb250YWluIGF0IGxlYXN0IG9uZSBzbWFsbCBsZXR0ZXIuIik7DQogICAgICAgICAgICB0aGlzLmNvbmZpcm1QYXNzd29yZD0nJzsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0gZWxzZSBpZighdGhpcy5wYXNzd29yZC5tYXRjaCgvW0EtWl0vZykpIHsNCiAgICAgICAgICAgIGFsZXJ0KCJZb3VyIHBhc3N3b3JkIHNob3VsZCBjb250YWluIGF0IGxlYXN0IG9uZSBiaWcgbGV0dGVyLiIpOw0KICAgICAgICAgICAgdGhpcy5jb25maXJtUGFzc3dvcmQ9Jyc7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9IGVsc2UgaWYoIXRoaXMucGFzc3dvcmQubWF0Y2goL1swLTldL2cpKSB7DQogICAgICAgICAgICBhbGVydCgiWW91ciBwYXNzd29yZCBzaG91bGQgY29udGFpbiBhdCBsZWFzdCBvbmUgbnVtYmVyLiIpOw0KICAgICAgICAgICAgdGhpcy5jb25maXJtUGFzc3dvcmQ9Jyc7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9IGVsc2UgaWYoIXRoaXMucGFzc3dvcmQubWF0Y2goL1shQCMkJV4mKi4sOiciXS9nKSkgeyANCiAgICAgICAgICAgIGFsZXJ0KCJZb3VyIHBhc3N3b3JkIHNob3VsZCBjb250YWluIGF0IGxlYXN0IG9uZSBzcGVjaWFsIGNoYXJhY3Rlci4iKTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0gDQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9LA0KICAgIHZhbGlkQ29uZmlybVBhc3N3b3JkKCkgew0KICAgICAgaWYgKHRoaXMuY29uZmlybVBhc3N3b3JkLmxlbmd0aCA8IDEwKSB7DQogICAgICAgIGFsZXJ0KCJZb3VyIHBhc3N3b3JkIHNob3VsZCBjb250YWluIGF0IGxlYXN0IDEwIGNoYXJhY3RlciEiKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfSBlbHNlIGlmICh0aGlzLmNvbmZpcm1QYXNzd29yZC5sZW5ndGggPiAzMCkgew0KICAgICAgICBhbGVydCgiWW91ciBwYXNzd29yZCBzaG91bGRuJ3QgY29udGFpbiBtb3JlIHRoYW4gMzAgY2hhcmFjdGVycyEiKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfSBlbHNlIGlmKCF0aGlzLmNvbmZpcm1QYXNzd29yZC5tYXRjaCgvW2Etel0vZykpIHsNCiAgICAgICAgICBhbGVydCgiWW91ciBjb25maXJtIHBhc3N3b3JkIHNob3VsZCBjb250YWluIGF0IGxlYXN0IG9uZSBzbWFsbCBsZXR0ZXIuIik7DQogICAgICAgICAgdGhpcy5jb25maXJtUGFzc3dvcmQ9Jyc7DQogICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfSBlbHNlIGlmKCF0aGlzLmNvbmZpcm1QYXNzd29yZC5tYXRjaCgvW0EtWl0vZykpIHsNCiAgICAgICAgICBhbGVydCgiWW91ciBjb25maXJtIHBhc3N3b3JkIHNob3VsZCBjb250YWluIGF0IGxlYXN0IG9uZSBiaWcgbGV0dGVyLiIpOw0KICAgICAgICAgIHRoaXMuY29uZmlybVBhc3N3b3JkPScnOw0KICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0gZWxzZSBpZighdGhpcy5jb25maXJtUGFzc3dvcmQubWF0Y2goL1swLTldL2cpKSB7DQogICAgICAgICAgYWxlcnQoIllvdXIgY29uZmlybSBwYXNzd29yZCBzaG91bGQgY29udGFpbiBhdCBsZWFzdCBvbmUgbnVtYmVyLiIpOw0KICAgICAgICAgIHRoaXMuY29uZmlybVBhc3N3b3JkPScnOw0KICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0gZWxzZSBpZighdGhpcy5jb25maXJtUGFzc3dvcmQubWF0Y2goL1shQCMkJV4mKi4sOiciXS9nKSkgeyANCiAgICAgICAgICBhbGVydCgiWW91ciBjb25maXJtIHBhc3N3b3JkIHNob3VsZCBjb250YWluIGF0IGxlYXN0IG9uZSBzcGVjaWFsIGNoYXJhY3Rlci4iKTsNCiAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9LA0KICAgIHZhbGlkUGFzc3dvcmRzKCkgew0KICAgICAgaWYgKHRoaXMuY29uZmlybVBhc3N3b3JkICE9PSB0aGlzLnBhc3N3b3JkKSB7DQogICAgICAgIGFsZXJ0KCJQYXNzd29yZHMgZG9uJ3QgbWF0Y2ggISEhIik7DQogICAgICAgIHRoaXMuY29uZmlybVBhc3N3b3JkID0nJzsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfSANCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCiAgfSwNCn07DQo="},{"version":3,"sources":["ChangePasswordByToken.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ChangePasswordByToken.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <br />\r\n    <v-container fluid class=\"container\">\r\n      <h1 v-show=\"showHeader\" class=\"center\">BAD TOKEN</h1>\r\n\r\n      <v-row rows=\"1\">\r\n        <v-col cols=\"5\" />\r\n        <v-col cols=\"3\">\r\n           <v-text-field\r\n            :type=\"showPassword ? 'text' : 'password'\"\r\n            label=\"Password\"\r\n            v-model=\"password\" \r\n            v-show=\"showFields\"\r\n            prepend-icon=\"mdi-lock\"\r\n            :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\r\n            @click:append=\"showPassword = !showPassword\"\r\n            />\r\n        </v-col>\r\n      </v-row>\r\n\r\n      <v-row rows=\"1\">\r\n        <v-col cols=\"5\" />\r\n        <v-col cols=\"3\">\r\n            <v-text-field\r\n            :type=\"showConfirmPassword ? 'text' : 'password'\"\r\n            label=\"Confirmation Password\"\r\n            v-show=\"showFields\"\r\n            v-model=\"confirmPassword\" \r\n            prepend-icon=\"mdi-lock\"\r\n            :append-icon=\"showConfirmPassword ? 'mdi-eye' : 'mdi-eye-off'\"\r\n            @click:append=\"showConfirmPassword = !showConfirmPassword\"\r\n            />\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n\r\n    <div class=\"center\">\r\n      <v-btn  v-show=\"showFields\" v-on:click=\"saveNewPassword\" color=\"primary\" large elevation=\"20\"\r\n        >Save password</v-btn\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ChangePasswordByToken\",\r\n  data: () => ({\r\n    confirmationToken:\"\",\r\n    showPassword:false,\r\n    showConfirmPassword:false,\r\n    password:\"\",\r\n    confirmPassword:\"\",\r\n    userEmail:\"\",\r\n    showFields:false,\r\n    showHeader:false\r\n  }),\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      var hrefPath = window.location.href;\r\n      var hrefPaths = [];\r\n      hrefPaths=  hrefPath.split('/');\r\n      this.confirmationToken = hrefPaths[4];\r\n      this.$http\r\n        .post(\"https://localhost:8080/users/findUserWithToken\", {\r\n            token: this.confirmationToken\r\n        })\r\n        .then((res) => {\r\n          this.userEmail = res.data.userEmail;\r\n          this.showFields = true;\r\n          this.showHeader = false;\r\n          alert(\"Successfully founded user!\")\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          this.showHeader = true;\r\n          this.showFields = false;\r\n        });\r\n    },\r\n    saveNewPassword() {\r\n        if (!this.validPassword() || !this.validConfirmPassword() || !this.validPasswords()) {\r\n            return;\r\n        }\r\n        alert(this.password+\" \"+this.confirmPassword)\r\n        this.$http\r\n        .put(\"https://localhost:8080/users/changePassword\", {\r\n            emailOfUser: this.userEmail,\r\n            password: this.password,\r\n            confirmedPassword: this.confirmPassword\r\n        })\r\n        .then((res) => {\r\n          console.log(res);\r\n          alert(\"You are successfully change password on your account! You can log in on system!\");\r\n          window.location.href = \"https://localhost:8081/logIn\";\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          alert(\"Password doesn't changed! Please, contact system admin!\");\r\n        });\r\n    },\r\n    redirectToLogIn() {\r\n      window.location.href = \"https://localhost:8081/logIn\";\r\n    },\r\n    validPassword() {\r\n      if (this.password.length < 10) {\r\n            alert(\"Your password should contain at least 10 character!\");\r\n            return false;\r\n      } else if (this.password.length > 30) {\r\n            alert(\"Your password shouldn't contain more than 30 characters!\");\r\n            return false;\r\n      } else if(!this.password.match(/[a-z]/g)) {\r\n            alert(\"Your password should contain at least one small letter.\");\r\n            this.confirmPassword='';\r\n            return false;\r\n      } else if(!this.password.match(/[A-Z]/g)) {\r\n            alert(\"Your password should contain at least one big letter.\");\r\n            this.confirmPassword='';\r\n            return false;\r\n      } else if(!this.password.match(/[0-9]/g)) {\r\n            alert(\"Your password should contain at least one number.\");\r\n            this.confirmPassword='';\r\n            return false;\r\n      } else if(!this.password.match(/[!@#$%^&*.,:'\"]/g)) { \r\n            alert(\"Your password should contain at least one special character.\");\r\n            return false;\r\n      } \r\n      return true;\r\n    },\r\n    validConfirmPassword() {\r\n      if (this.confirmPassword.length < 10) {\r\n        alert(\"Your password should contain at least 10 character!\");\r\n        return false;\r\n      } else if (this.confirmPassword.length > 30) {\r\n        alert(\"Your password shouldn't contain more than 30 characters!\");\r\n        return false;\r\n      } else if(!this.confirmPassword.match(/[a-z]/g)) {\r\n          alert(\"Your confirm password should contain at least one small letter.\");\r\n          this.confirmPassword='';\r\n          return false;\r\n      } else if(!this.confirmPassword.match(/[A-Z]/g)) {\r\n          alert(\"Your confirm password should contain at least one big letter.\");\r\n          this.confirmPassword='';\r\n          return false;\r\n      } else if(!this.confirmPassword.match(/[0-9]/g)) {\r\n          alert(\"Your confirm password should contain at least one number.\");\r\n          this.confirmPassword='';\r\n          return false;\r\n      } else if(!this.confirmPassword.match(/[!@#$%^&*.,:'\"]/g)) { \r\n          alert(\"Your confirm password should contain at least one special character.\");\r\n          return false;\r\n      }\r\n      return true;\r\n    },\r\n    validPasswords() {\r\n      if (this.confirmPassword !== this.password) {\r\n        alert(\"Passwords don't match !!!\");\r\n        this.confirmPassword ='';\r\n        return false;\r\n      } \r\n      return true;\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.helloMessage {\r\n  font-weight: bolder;\r\n  font-size: 20px;\r\n  height: 50px;\r\n}\r\n\r\n.center {\r\n  padding: 10px;\r\n  text-align: center;\r\n}\r\n\r\n#certificateCard {\r\n  margin-top: 5%;\r\n  width: 70%;\r\n  height: 760px;\r\n  overflow-y: scroll;\r\n}\r\n</style>"]}]}