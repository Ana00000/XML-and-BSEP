{"remainingRequest":"C:\\Users\\KORISNIK\\go\\src\\github.com\\xml\\XML-and-BSEP\\XML\\Nistagram-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\KORISNIK\\go\\src\\github.com\\xml\\XML-and-BSEP\\XML\\Nistagram-frontend\\src\\views\\ChangePasswordByToken.vue?vue&type=style&index=0&id=40081fad&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\KORISNIK\\go\\src\\github.com\\xml\\XML-and-BSEP\\XML\\Nistagram-frontend\\src\\views\\ChangePasswordByToken.vue","mtime":1620645782036},{"path":"C:\\Users\\KORISNIK\\go\\src\\github.com\\xml\\XML-and-BSEP\\XML\\Nistagram-frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":1620645763136},{"path":"C:\\Users\\KORISNIK\\go\\src\\github.com\\xml\\XML-and-BSEP\\XML\\Nistagram-frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1620645778858},{"path":"C:\\Users\\KORISNIK\\go\\src\\github.com\\xml\\XML-and-BSEP\\XML\\Nistagram-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1620645761027},{"path":"C:\\Users\\KORISNIK\\go\\src\\github.com\\xml\\XML-and-BSEP\\XML\\Nistagram-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1620645778857}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouaGVsbG9NZXNzYWdlIHsNCiAgZm9udC13ZWlnaHQ6IGJvbGRlcjsNCiAgZm9udC1zaXplOiAyMHB4Ow0KICBoZWlnaHQ6IDUwcHg7DQp9DQoNCi5jZW50ZXIgew0KICBwYWRkaW5nOiAxMHB4Ow0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQp9DQoNCiNjZXJ0aWZpY2F0ZUNhcmQgew0KICBtYXJnaW4tdG9wOiA1JTsNCiAgd2lkdGg6IDcwJTsNCiAgaGVpZ2h0OiA3NjBweDsNCiAgb3ZlcmZsb3cteTogc2Nyb2xsOw0KfQ0K"},{"version":3,"sources":["ChangePasswordByToken.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyKA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"ChangePasswordByToken.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <br />\r\n    <v-container fluid class=\"container\">\r\n      <h1 v-show=\"showHeader\" class=\"center\">BAD TOKEN</h1>\r\n\r\n      <v-row rows=\"1\">\r\n        <v-col cols=\"5\" />\r\n        <v-col cols=\"3\">\r\n           <v-text-field\r\n            :type=\"showPassword ? 'text' : 'password'\"\r\n            label=\"Password\"\r\n            v-model=\"password\" \r\n            v-show=\"showFields\"\r\n            prepend-icon=\"mdi-lock\"\r\n            :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\r\n            @click:append=\"showPassword = !showPassword\"\r\n            />\r\n        </v-col>\r\n      </v-row>\r\n\r\n      <v-row rows=\"1\">\r\n        <v-col cols=\"5\" />\r\n        <v-col cols=\"3\">\r\n            <v-text-field\r\n            :type=\"showConfirmPassword ? 'text' : 'password'\"\r\n            label=\"Confirmation Password\"\r\n            v-show=\"showFields\"\r\n            v-model=\"confirmPassword\" \r\n            prepend-icon=\"mdi-lock\"\r\n            :append-icon=\"showConfirmPassword ? 'mdi-eye' : 'mdi-eye-off'\"\r\n            @click:append=\"showConfirmPassword = !showConfirmPassword\"\r\n            />\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n\r\n    <div class=\"center\">\r\n      <v-btn  v-show=\"showFields\" v-on:click=\"saveNewPassword\" color=\"primary\" large elevation=\"20\"\r\n        >Save password</v-btn\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ChangePasswordByToken\",\r\n  data: () => ({\r\n    confirmationToken:\"\",\r\n    showPassword:false,\r\n    showConfirmPassword:false,\r\n    password:\"\",\r\n    confirmPassword:\"\",\r\n    userEmail:\"\",\r\n    showFields:false,\r\n    showHeader:false\r\n  }),\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    init() {\r\n      var hrefPath = window.location.href;\r\n      var hrefPaths = [];\r\n      hrefPaths=  hrefPath.split('/');\r\n      this.confirmationToken = hrefPaths[4];\r\n      this.$http\r\n        .post(\"https://localhost:8080/users/findUserWithToken\", {\r\n            token: this.confirmationToken\r\n        })\r\n        .then((res) => {\r\n          this.userEmail = res.data.userEmail;\r\n          this.showFields = true;\r\n          this.showHeader = false;\r\n          alert(\"Successfully founded user!\")\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          this.showHeader = true;\r\n          this.showFields = false;\r\n        });\r\n    },\r\n    saveNewPassword() {\r\n        if (!this.validPassword() || !this.validConfirmPassword() || !this.validPasswords()) {\r\n            return;\r\n        }\r\n        this.$http\r\n        .put(\"https://localhost:8080/users/changePassword\", {\r\n            emailOfUser: this.userEmail,\r\n            password: this.password,\r\n            confirmedPassword: this.confirmPassword\r\n        })\r\n        .then((res) => {\r\n          console.log(res);\r\n          alert(\"You are successfully change password on your account! You can log in on system!\");\r\n          window.location.href = \"https://localhost:8081/logIn\";\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          alert(\"Password doesn't changed! Please, contact system admin!\");\r\n        });\r\n    },\r\n    redirectToLogIn() {\r\n      window.location.href = \"https://localhost:8081/logIn\";\r\n    },\r\n    validPassword() {\r\n      if (this.password.length < 10) {\r\n            alert(\"Your password should contain at least 10 character!\");\r\n            return false;\r\n      } else if (this.password.length > 30) {\r\n            alert(\"Your password shouldn't contain more than 30 characters!\");\r\n            return false;\r\n      } else if(!this.password.match(/[a-z]/g)) {\r\n            alert(\"Your password should contain at least one small letter.\");\r\n            this.confirmPassword='';\r\n            return false;\r\n      } else if(!this.password.match(/[A-Z]/g)) {\r\n            alert(\"Your password should contain at least one big letter.\");\r\n            this.confirmPassword='';\r\n            return false;\r\n      } else if(!this.password.match(/[0-9]/g)) {\r\n            alert(\"Your password should contain at least one number.\");\r\n            this.confirmPassword='';\r\n            return false;\r\n      } else if(!this.password.match(/[!@#$%^&*.,:'\"]/g)) { \r\n            alert(\"Your password should contain at least one special character.\");\r\n            return false;\r\n      } \r\n      return true;\r\n    },\r\n    validConfirmPassword() {\r\n      if (this.confirmPassword.length < 10) {\r\n        alert(\"Your password should contain at least 10 character!\");\r\n        return false;\r\n      } else if (this.confirmPassword.length > 30) {\r\n        alert(\"Your password shouldn't contain more than 30 characters!\");\r\n        return false;\r\n      } else if(!this.confirmPassword.match(/[a-z]/g)) {\r\n          alert(\"Your confirm password should contain at least one small letter.\");\r\n          this.confirmPassword='';\r\n          return false;\r\n      } else if(!this.confirmPassword.match(/[A-Z]/g)) {\r\n          alert(\"Your confirm password should contain at least one big letter.\");\r\n          this.confirmPassword='';\r\n          return false;\r\n      } else if(!this.confirmPassword.match(/[0-9]/g)) {\r\n          alert(\"Your confirm password should contain at least one number.\");\r\n          this.confirmPassword='';\r\n          return false;\r\n      } else if(!this.confirmPassword.match(/[!@#$%^&*.,:'\"]/g)) { \r\n          alert(\"Your confirm password should contain at least one special character.\");\r\n          return false;\r\n      }\r\n      return true;\r\n    },\r\n    validPasswords() {\r\n      if (this.confirmPassword !== this.password) {\r\n        alert(\"Passwords don't match !!!\");\r\n        this.confirmPassword ='';\r\n        return false;\r\n      } \r\n      return true;\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.helloMessage {\r\n  font-weight: bolder;\r\n  font-size: 20px;\r\n  height: 50px;\r\n}\r\n\r\n.center {\r\n  padding: 10px;\r\n  text-align: center;\r\n}\r\n\r\n#certificateCard {\r\n  margin-top: 5%;\r\n  width: 70%;\r\n  height: 760px;\r\n  overflow-y: scroll;\r\n}\r\n</style>"]}]}